{"version":3,"sources":["components/Loader.js","components/Search.js","components/Table.js","components/Pagination.js","App.js","index.js"],"names":["Loader","className","Search","searchHandler","limit","limitHandler","useState","state","setState","type","onClick","trim","placeholder","value","onChange","e","target","aria-describedby","Table","sort","sortField","data","sortHandler","length","map","el","id","name","email","body","Pagination","props","pages","pagesCount","Math","ceil","totalCount","currentPage","pageHandler","i","push","createPages","App","search","loading","page","requestProps","setRequestProps","useEffect","a","fetch","result","json","setTimeout","headers","get","fetchData","filter","toLowerCase","includes","filteredData","clonedData","concat","sortType","orderedData","_","orderBy","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0f301176.chunk.js","sourcesContent":["import React from 'react'\r\nimport '../styles/loader.scss'\r\n\r\nexport const Loader = () => {\r\n    return (\r\n        <div className=\"lds-ring\">\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n        </div>\r\n    )\r\n}","import React, {useState} from 'react'\r\n\r\nexport const Search = ({searchHandler,limit,limitHandler}) => {\r\n    const [state, setState] = useState('')\r\n\r\n    return (\r\n        <div className='mb-3 mt-3 d-flex justify-content-between'>\r\n            <div className='input-group '>\r\n                <div className='input-group-prepend'>\r\n                    <button className='btn btn-outline-secondary' type='button'\r\n                            onClick={() => searchHandler(state.trim())}>Button\r\n                    </button>\r\n                </div>\r\n                <input type='text' className='form-control shadow-none' placeholder='Search...' value={state}\r\n                       onChange={e => setState(e.target.value)} aria-describedby='basic-addon1'/>\r\n            </div>\r\n\r\n\r\n            <div className='input-group col-2'>\r\n                <div className='input-group-prepend'>\r\n                    <div className='input-group-text'>Show</div>\r\n                </div>\r\n                <select className='custom-select shadow-none' value={limit} onChange={e => limitHandler(e.target.value)}>\r\n                    <option value='10'>10</option>\r\n                    <option value='25'>25</option>\r\n                    <option value='50'>50</option>\r\n                </select>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\n\r\nexport const Table = ({sort,sortField,data,sortHandler}) => {\r\n    return (\r\n        <table className='table'>\r\n            <thead>\r\n            <tr>\r\n                <th onClick={() => sortHandler('id')}>\r\n                    ID{sortField === 'id' ? <small>{sort}</small> : null}\r\n                </th>\r\n                <th onClick={() => sortHandler('name')}>\r\n                    Name{sortField === 'name' ? <small>{sort}</small> : null}\r\n                </th>\r\n                <th onClick={() => sortHandler('email')}>\r\n                    Email{sortField === 'email' ? <small>{sort}</small> : null}\r\n                </th>\r\n                <th onClick={() => sortHandler('body')}>\r\n                    Body{sortField === 'body' ? <small>{sort}</small> : null}\r\n                </th>\r\n            </tr>\r\n            </thead>\r\n            <tbody>\r\n            {data.length === 0 ? <tr><td>Sorry, no result</td></tr> : data.map(el => {\r\n                return (\r\n                    <tr key={el.id}>\r\n                        <td>{el.id}</td>\r\n                        <td>{el.name}</td>\r\n                        <td>{el.email}</td>\r\n                        <td>{el.body}</td>\r\n                    </tr>\r\n                )\r\n            })}\r\n            </tbody>\r\n        </table>\r\n    )\r\n}","import React from 'react'\r\n\r\nexport const Pagination = (props) => {\r\n    const pages = []\r\n    const pagesCount = Math.ceil(props.totalCount / props.limit)\r\n\r\n    const createPages = (pagesCount, currentPage) => {\r\n        if (pagesCount > 10) {\r\n            if (currentPage > 5) {\r\n                for (let i = currentPage - 4; i <= currentPage + 5; i++) {\r\n                    pages.push(i)\r\n                    if (i === pagesCount) break\r\n                }\r\n            } else {\r\n                for (let i = 1; i <= 10; i++) {\r\n                    pages.push(i)\r\n                    if (i === pagesCount) break\r\n                }\r\n            }\r\n        } else {\r\n            for (let i = 1; i <= pagesCount; i++) {\r\n                pages.push(i)\r\n            }\r\n        }\r\n        return pages.map(el => {\r\n            return <li className=\"page-item \" onClick={() => props.pageHandler(el)} key={el}><span className=\"page-link\">{el}</span></li>\r\n        })\r\n    }\r\n\r\n    const prevPage = () => {\r\n        if (props.currentPage > 1) {\r\n            props.pageHandler(props.currentPage - 1)\r\n        }\r\n    }\r\n\r\n    const nextPage = () => {\r\n        if (props.currentPage < pagesCount) {\r\n            props.pageHandler(props.currentPage + 1)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className='d-flex justify-content-around'>\r\n            <ul className=\"pagination\">\r\n                <li className=\"page-item\" onClick={() => prevPage()}><span className=\"page-link\">{'<'}</span></li>\r\n                {createPages(pagesCount, props.currentPage)}\r\n                <li className=\"page-item\" onClick={() => nextPage()}><span className=\"page-link\">{'>'}</span></li>\r\n            </ul>\r\n        </div>\r\n    )\r\n}","import React, {useEffect, useState} from 'react'\nimport _ from 'lodash'\nimport {Loader} from './components/Loader'\nimport {Search} from './components/Search'\nimport {Table} from './components/Table'\nimport {Pagination} from './components/Pagination'\nimport './styles/main.scss'\nimport 'bootstrap/dist/css/bootstrap.min.css'\n\n\nexport default function App() {\n    const [state, setState] = useState({\n        data: [],\n        totalCount: 0,\n        sort: 'asc',\n        search: '',\n        sortField: 'id',\n        loading: true\n    })\n    const [requestProps, setRequestProps] = useState({\n        limit: 25,\n        page: 1,\n    })\n\n    useEffect(() => {\n        setState({...state, loading: true})\n        const fetchData = async () => {\n            const result = await fetch(`https://jsonplaceholder.typicode.com/comments?_page=${requestProps.page}&_limit=${requestProps.limit}`)\n            const data = await result.json()\n            setTimeout(() => {\n                setState({\n                    ...state,\n                    data,\n                    totalCount: result.headers.get('x-total-count'),\n                    loading: false\n                })\n            }, 500)\n        }\n        fetchData()\n\n    }, [requestProps])\n\n    const pageHandler = (page) => {\n        setRequestProps({...requestProps, page})\n    }\n\n    const filteredData = () => {\n        const {data, search} = state\n        if (!search) {\n            return data\n        }\n        return data.filter(el => {\n            return el['name'].toLowerCase().includes(search.toLowerCase()) ||\n                el['email'].toLowerCase().includes(search.toLowerCase()) ||\n                el['body'].toLowerCase().includes(search.toLowerCase())\n        })\n    }\n\n    const sortHandler = (sortField) => {\n        const clonedData = state.data.concat()\n        const sortType = state.sort === 'asc' ? 'desc' : 'asc'\n        const orderedData = _.orderBy(clonedData, sortField, sortType)\n        setState({...state, data: orderedData, sort: sortType, sortField})\n    }\n\n    const searchHandler = (search) => {\n        setState({...state, search})\n    }\n\n    const limitHandler = (limit) => {\n        setRequestProps({...requestProps, limit})\n    }\n\n\n    return (\n        <div>\n            <header className='header d-flex justify-content-around align-items-center'>\n                <h1>Table</h1>\n            </header>\n            <main className=\"container\">\n                <Search searchHandler={searchHandler} limit={requestProps.limit} limitHandler={limitHandler}/>\n                {state.loading ? <Loader/> : <>\n                    <Table sort={state.sort} sortField={state.sortField} data={filteredData()} sortHandler={sortHandler}/>\n                    <Pagination limit={requestProps.limit} totalCount={state.totalCount} pageHandler={pageHandler}\n                                currentPage={requestProps.page}/>\n                </>}\n            </main>\n        </div>\n    )\n}\n\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}